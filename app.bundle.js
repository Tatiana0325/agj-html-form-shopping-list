!function(t){var e={};function s(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(0);class r{constructor(t,e){this.name=t,this.cost=e}}class n{static isValid(t){const e=[...t].find(t=>t.classList.contains("error"));return!e||(e.focus(),!1)}static removeError(t){for(let e=0;e<t.length;e++)t[e].classList.remove("error")}static checkValInputs(t,e){for(let t=0;t<e.length;t++)e[t].value||e[t].classList.add("error")}static checkCosts(t){Number(t.value)<=0&&(t.classList.add("error"),t.focus())}static keyUp(t){[...t].forEach(t=>{t.addEventListener("keyup",()=>{t.classList.remove("error")})})}}function c(t){const e=document.createElement("form");return e.classList.add("shop-list-"+t),e.setAttribute("novalidate",""),e.innerHTML='\n\t\t<div class="name-group">\n      <div class="header">Название</div>\n        <input type="text" class="name-product product" placeholder="Ведите название товара"/>\n        <span class="error-text">нет имени</span>\n      </div>\n\n      <div class="cost-group">\n        <div class="header">Стоимость</div>\n        <input type="number" class="cost-product product" min="1" placeholder="Ведите стоимость товара"/>\n        <span class="error-text">нет стоимости</span>\n      </div>\n\n      <div class="button-group">\n        <button class="save-product" type="submit">Сохранить</button>\n        <button class="closing" type="reset">Отмена</button>\n      </div>\n\t',e}function o(t,e,s){n.removeError(e),n.checkValInputs(t,e),n.checkCosts(s),n.keyUp(e)}(new class{constructor(){this.products=[{name:"Samsung",cost:"10000"},{name:"Apple",cost:"120000"}],this.container=document.querySelector(".container"),this.formDel=document.querySelector(".delete-product"),this.plus=document.querySelector(".btn-plus"),this.shopList=document.querySelector(".shop-list")}start(){this.addProduct(),this.createShopList()}addProduct(){this.shopList.innerHTML='\n\t\t\t<tr class="header-table">\n        <th class="header">Название</th>\n        <th class="header">Стоимость</th>\n        <th class="header">Действия</th>\n      </tr>\n\t\t',this.products.forEach((t,e)=>{let s=function(t){let e=document.createElement("tr");return e.classList.add(".string-table"),e.innerHTML=`\n\t\t<td class="title name">${t.name}</td>\n\t\t<td class="title cost">${t.cost} руб.</td>\n\t\t<td class="title">\n\t\t\t<div class="change-group">\n\t\t\t\t<div class="btn-pencil">\n\t\t\t\t\t<img src="./img/pencil.png" alt="Изменить" class="pencil">\n\t\t\t\t</div>\n\t\t\t\t<div class="btn-cross">\n\t\t\t\t\t<img src="./img/cross.png" alt="Удалить" class="cross">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t`,e}(t);this.shopList.appendChild(s);const r=s.querySelector(".btn-pencil");s.querySelector(".btn-cross").addEventListener("click",()=>{this.formDel.classList.remove("invisible"),this.formDel.classList.add("active");const t=this.formDel.querySelector(".delete"),r=this.formDel.querySelector(".not-delete");t.addEventListener("click",t=>{t.preventDefault(),this.products.splice(e,1),s.remove(),this.formDel.classList.add("invisible"),this.formDel.classList.remove("active")}),r.addEventListener("click",t=>{t.preventDefault(),this.formDel.classList.add("invisible"),this.formDel.classList.remove("active")})}),r.addEventListener("click",()=>{const r=c("change"),i=r.querySelector(".name-product"),a=r.querySelector(".cost-product"),l=r.querySelectorAll(".product");this.container.appendChild(r),a.value=t.cost,i.value=t.name,r.addEventListener("submit",c=>{c.preventDefault(),o(r,l,a),n.isValid(l)&&(i.value!==t.name&&(this.products[e].name=i.value,s.querySelector(".name").textContent=this.products[e].name+" руб."),a.value!==t.cost&&(this.products[e].cost=a.value,s.querySelector(".cost").textContent=this.products[e].cost+" руб."),r.reset())}),r.addEventListener("reset",t=>{t.preventDefault(),this.container.removeChild(r)})})})}createShopList(){this.plus.addEventListener("click",()=>{const t=c("add");this.container.insertAdjacentElement("beforeend",t);const e=t.querySelector(".name-product");let s=t.querySelector(".cost-product"),i=t.querySelectorAll(".product");t.addEventListener("submit",c=>{if(c.preventDefault(),o(t,i,s),n.isValid(i)){const n=new r(e.value,s.value);this.products.push(n),this.addProduct(),t.reset()}}),t.addEventListener("reset",e=>{e.preventDefault(),this.container.removeChild(t)})})}}).start();s.p,s.p,s.p}]);